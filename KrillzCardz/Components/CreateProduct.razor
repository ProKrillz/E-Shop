@using KrillzCardz.Services.DTO;
@using KrillzCardz.Services;
@inject IProduct _productService;

<div class="modal">
    <div class="modal-content">
        <div class="row">
            <h4 class="col">Opret product</h4>
            <a  class="modal-close waves-effect waves-green btn-flat right col">Luk</a>
        </div>
        <form class="col s12" method="post" enctype="multipart/form-data">
            <div class="row">
                <div class="input-field col s6">
                    <i class="material-icons prefix">title</i>
                    <input id="icon_prefix" type="text" class="validate" @bind="product.name">
                    <label for="icon_prefix">Title</label>
                </div>
                <div class="input-field col s6">
                    <i class="material-icons prefix">description</i>
                    <input id="icon_lastname" type="text" class="validate" @bind="product.description">
                    <label for="icon_lastname">Beskrivelse</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s6">
                    <i class="material-icons prefix">attach_money</i>
                    <input id="icon_add" type="number" class="validate" @bind="product.price">
                    <label for="icon_add">Pris</label>
                </div>
                <div class="input-field col s6">
                    <select required>
                        <option value="">Valg</option>
                    </select>
                    <label>Set</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s6">
                    <select  required>
                        <option value="">Valg</option>
                    </select>
                    <label>Brand</label>
                </div>
                <div class="input-field col s6">
                    <select required>
                        <option value="">Valg</option>
                    </select>
                    <label>Kategori</label>
                </div>
            </div>
            <div class="row">

                <div class="file-field input-field">
                    <div class="btn">
                        <span>File</span>
                        <input type="file" asp-for="UploadImage">
                    </div>
                    <div class="file-path-wrapper">
                        <input class="file-path validate" type="text">
                    </div>
                </div>
            </div>
            <button class="btn waves-effect waves-light" type="submit" name="action">
                Opret
                <i class="material-icons right">send</i>
            </button>
        </form>
    </div>
</div>

@code {
    private ProductModel product = new();

    private async Task CreateProductSite()
    {
        await _productService.CreateProduct(product);
    }
}
